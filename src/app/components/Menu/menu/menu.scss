/* אנימציית פתיחה קומפקטית */
@keyframes popIn {
    from { 
        opacity: 0; 
        transform: translateY(10px) scale(0.98); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
    }
}

.mega-menu-popup {
    animation: popIn 0.2s ease-out;
    /* מונע מהתפריט לצאת מהמסך בצד ימין */
    transform-origin: top right;
    margin-top: 0.5rem;
}

.category-card {
    background: rgba(255, 255, 255, 0.03);
    
    &:hover {
        background: rgba(var(--primary-rgb), 0.1);
        transform: scale(1.03);
        
        .cat-img { transform: scale(1.1); }
    }
}

.image-container {
    background: var(--surface-800); /* צבע רקע למקרה שהתמונה לא נטענת */
}

.cat-img {
    transition: transform 0.4s ease;
}

/* סיבוב החץ */
.nav-item:hover .arrow-icon {
    transform: rotate(180deg);
}
.arrow-icon {
    transition: transform 0.3s;
}/* אנימציית פתיחה למגה מנו */
@keyframes megaSlideUp {
    from { 
        opacity: 0; 
        transform: translateY(15px) scale(0.98); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0) scale(1); 
    }
}

/* אנימציית כניסה לכרטיסים (אחד אחרי השני) */
@keyframes cardPop {
    from { opacity: 0; transform: scale(0.8); }
    to { opacity: 1; transform: scale(1); }
}

.mega-menu {
    animation: megaSlideUp 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
    transform-origin: top right;
    margin-top: 0.5rem;
    min-width: 450px; /* רוחב נורמלי לשלוש תמונות */
}

.menu-card {
    animation: cardPop 0.4s ease forwards;
    opacity: 0;
    transition: transform 0.3s ease;

    &:hover {
        transform: translateY(-5px);
        
        .cat-img { transform: scale(1.15); }
        h3 { color: var(--primary-color); }
    }
}

.cat-img {
    transition: transform 0.5s ease;
}

/* אנימציה לחץ של ה"קטגוריות" */
.has-mega:hover .arrow {
    transform: rotate(180deg);
    color: var(--primary-color);
}

.arrow {
    font-size: 0.8rem;
    display: inline-block;
    transition: transform 0.3s ease;
}